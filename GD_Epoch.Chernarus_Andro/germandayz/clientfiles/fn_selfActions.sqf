scriptName"Functions\misc\fn_selfActions.sqf";private["_l0","_l1","_l2","_l3","_l4","_l5","_l6","_l7","_l8","_l9","_l10","_l11","_l12","_l13","_l14","_l15","_l16","_l17","_l18","_l19","_l20","_l21","_l22","_l23","_l24","_l25","_l26","_l27","_l28","_l29","_l30","_l31","_l32","_l33","_l34","_l35","_l36","_l37","_l38","_l39","_l40","_l41","_l42","_l43","_l44","_l45","_l46","_l47","_l48","_l49","_l50","_l51","_l52","_l53","_l54","_l55","_l56","_l57","_l58","_l59","_l60","_l61","_l62","_l63","_l64","_l65","_l66","_l67","_l68","_l69","_l70","_l71","_l72","_l73","_l74"];if(TradeInprogress)exitWith{};_l4=vehicle player;_l3=player isKindOf"PZombie_VB";_l5=(_l4!=player);_l10=(getNumber(configFile>>"CfgMovesMaleSdr">>"States">>(animationState player)>>"onLadder"))==1;_l13=(!r_drag_sqf and!r_player_unconscious and!_l10);_l11=nearestObject[player,"LitObject"];_l12=false;if(!isNull _l11)then{if(_l11 distance player<4)then{_l12=isNull(_l11 getVariable["owner",objNull]);};};_l75=magazines player;if("ItemBloodbag"in _l75 and"WoodenArrow"in _l75 and"ItemTrashToiletpaper"in _l75 and"ItemTrashRazor"in _l75)then{hasBagItemN=true;}else{hasBagItemN=false;};if((speed player<=1)&& hasBagItemN && _l13)then{if(s_player_selfBloodbagN<0)then{s_player_selfBloodbagN=player addaction[("<t color='#FFFF00'>"+("Improvised Self Bloodbag")+"</t>"),"germandayz\selfbloodbag\player_selfbloodbagN.sqf","",5,false,true,"",""];};}else{player removeAction s_player_selfBloodbagN;s_player_selfBloodbagN=-1;};if("ItemBloodbag"in _l75)then{hasBagItem=true;}else{hasBagItem=false;};if((speed player<=1)&& hasBagItem && _l13)then{if(s_player_selfBloodbag<0)then{s_player_selfBloodbag=player addaction[("<t color='#FFFF00'>"+("Self Bloodbag")+"</t>"),"germandayz\selfbloodbag\player_selfbloodbag.sqf","",5,false,true,"",""];};}else{player removeAction s_player_selfBloodbag;s_player_selfBloodbag=-1;};if(inflamed cursorTarget and _l13)then{if(s_player_dancea<0)then{s_player_dancea=player addAction[("<t color='#FFFF00'>"+("Dance!")+"</t>"),"germandayz\firedance\dance1.sqf",cursorTarget,0,false,true,"",""];s_player_danceb=player addAction[("<t color='#FFFF00'>"+("Daddy!")+"</t>"),"germandayz\firedance\dance2.sqf",cursorTarget,0,false,true,"",""];s_player_dancec=player addAction[("<t color='#FFFF00'>"+("Fight!")+"</t>"),"germandayz\firedance\dance3.sqf",cursorTarget,0,false,true,"",""];s_player_danced=player addAction[("<t color='#FFFF00'>"+("Rock!")+"</t>"),"germandayz\firedance\dance4.sqf",cursorTarget,0,false,true,"",""];};}else{player removeAction s_player_dancea;player removeAction s_player_danceb;player removeAction s_player_dancec;player removeAction s_player_danced;s_player_dancea=-1;s_player_danceb=-1;s_player_dancec=-1;s_player_danced=-1;};if(_l12 and!dayz_hasLight and!_l3)then{if(s_player_grabflare<0)then{_l14=getText(configFile>>"CfgAmmo">>(typeOf _l11)>>"displayName");s_player_grabflare=player addAction[format[localize"str_actions_medical_15",_l14],"\z\germandayz\AI\dayz_code\actions\flare_pickup.sqf",_l11,1,false,true,"",""];s_player_removeflare=player addAction[format[localize"str_actions_medical_17",_l14],"\z\germandayz\AI\dayz_code\actions\flare_remove.sqf",_l11,1,false,true,"",""];};}else{player removeAction s_player_grabflare;player removeAction s_player_removeflare;s_player_grabflare=-1;s_player_removeflare=-1;};if(!DZE_ForceNameTagsOff)then{if(s_player_showname<0 and!_l3)then{if(DZE_ForceNameTags)then{s_player_showname=1;player setVariable["DZE_display_name",true,true];}else{s_player_showname=player addAction["Display Name(Yes)","\z\germandayz\AI\dayz_code\actions\display_name.sqf",true,0,true,false,"",""];s_player_showname1=player addAction["Display Name(No)","\z\germandayz\AI\dayz_code\actions\display_name.sqf",false,0,true,false,"",""];};};};if(_l3)then{if(s_player_callzombies<0)then{s_player_callzombies=player addAction["Raise Horde","\z\germandayz\AI\dayz_code\actions\call_zombies.sqf",player,5,true,false,"",""];};if(DZE_PZATTACK)then{call pz_attack;DZE_PZATTACK=false;};if(s_player_pzombiesvision<0)then{s_player_pzombiesvision=player addAction["Night Vision","\z\germandayz\AI\dayz_code\actions\pzombie\pz_vision.sqf",[],4,false,true,"nightVision","_this==_target"];};if(!isNull cursorTarget and(player distance cursorTarget<3))then{_l21=cursorTarget isKindOf"Animal";_l23=cursorTarget isKindOf"zZombie_base";_l15=cursorTarget getVariable["meatHarvested",false];_l18=cursorTarget isKindOf"Man";if(!alive cursorTarget and(_l21 or _l18)and!_l23 and!_l15)then{if(s_player_pzombiesfeed<0)then{s_player_pzombiesfeed=player addAction["Feed","\z\germandayz\AI\dayz_code\actions\pzombie\pz_feed.sqf",cursorTarget,3,true,false,"",""];};}else{player removeAction s_player_pzombiesfeed;s_player_pzombiesfeed=-1;};}else{player removeAction s_player_pzombiesfeed;s_player_pzombiesfeed=-1;};};_l35=4;_l51=cursorTarget isKindOf"Air";_l52=cursorTarget isKindOf"Ship";if(_l51 or _l52)then{_l35=6;};if(!isNull cursorTarget and!_l5 and!_l3 and(player distance cursorTarget<_l35)and _l13)then{_l57=cursorTarget;_l61=typeOf _l57;_l16=_l57 isKindOf"AllVehicles";_l17=_l61 in["ATV_US_EP1","ATV_CZ_EP1"];_l58=_l61 in DZE_isNewStorage;_l2=magazines player;_l50="ItemWaterbottle"in _l2;_l34=false;{if(_x in _l2)then{_l34=true;};}forEach boil_tin_cans;_l6="ItemJerrycanEmpty"in _l2;_l73="ItemFuelBarrelEmpty"in _l2;_l74="ItemHotwireKit"in _l2;_l59=items player;_l1=[];_l65=["ItemKeyYellow","ItemKeyBlue","ItemKeyRed","ItemKeyGreen","ItemKeyBlack"];{if(configName(inheritsFrom(configFile>>"CfgWeapons">>_x))in _l65)then{_l60=getNumber(configFile>>"CfgWeapons">>_x>>"keyid");_l1 set[count _l1,str(_l60)];};}forEach _l59;_l8="ItemKnife"in _l59;_l9="ItemToolbox"in _l59;_l18=_l57 isKindOf"Man";_l19=_l61;_l20=_l57 getVariable["CharacterID","0"];_l21=_l57 isKindOf"Animal";_l22=(_l57 isKindOf"DZ_Pastor"|| _l57 isKindOf"DZ_Fin");_l23=_l57 isKindOf"zZombie_base";_l24=_l57 isKindOf"BuiltItems";_l43=_l61 in DZE_isWreck;_l0=_l61 in DZE_isWreckBuilding;_l44=_l61 in DZE_isRemovable;_l45=_l61 in["M240Nest_DZ"];_l25=_l57 isKindOf"TentStorage";_l27=alive _l57;_l14=getText(configFile>>"CfgVehicles">>_l61>>"displayName");_l46=meatraw;_l7=false;{if(_x in _l2)then{_l7=true;};}forEach _l46;_l26=false;if(_l6 or _l73)then{{if(_l57 isKindOf _x)exitWith{_l26=true;};}forEach dayz_fuelsources;};_l67=false;_l66=false;_l68=false;if(_l27)then{if(_l24 or _l43 or _l44 or _l0)then{if(_l9 and"ItemCrowbar"in _l59)then{_l76=_l57 getVariable["CharacterID","0"];if(dayz_playerUID==_l76)then{_l66=true;};};};if(_l16)then{if(!(canmove _l57)and(player distance _l57>=2)and(count(crew _l57))==0 and((vectorUp _l57)select 2)<0.5)then{_l53={isPlayer _x}count(player nearEntities["CAManBase",6]);if(_l17 or(_l53>=2))then{_l67=true;};};if(!_l18 and _l20!="0"and!(_l57 isKindOf"Bicycle"))then{_l68=true;};};};if(_l66)then{if(s_player_deleteBuild<0)then{s_player_deleteBuild=player addAction[format[localize"str_actions_delete",_l14],"\z\germandayz\AI\dayz_code\actions\remove.sqf",_l57,1,true,true,"",""];};}else{player removeAction s_player_deleteBuild;s_player_deleteBuild=-1;};if(_l68)then{if(s_player_lockUnlock_crtl<0)then{_l62=_l20 in _l1;_l63=(_l20==dayz_playerUID);if(locked _l57)then{if(_l62 or _l63)then{_l28=player addAction[format["Unlock %1",_l14],"\z\germandayz\AI\dayz_code\actions\unlock_veh.sqf",_l57,2,true,true,"",""];s_player_lockunlock set[count s_player_lockunlock,_l28];s_player_lockUnlock_crtl=1;}else{if(_l74)then{_l28=player addAction[format["Hotwire %1",_l14],"\z\germandayz\AI\dayz_code\actions\hotwire_veh.sqf",_l57,2,true,true,"",""];}else{_l28=player addAction["<t color='#ff0000'>Vehicle Locked</t>","",_l57,2,true,true,"",""];};s_player_lockunlock set[count s_player_lockunlock,_l28];s_player_lockUnlock_crtl=1;};}else{if(_l62 or _l63)then{_l29=player addAction[format["Lock %1",_l14],"\z\germandayz\AI\dayz_code\actions\lock_veh.sqf",_l57,1,true,true,"",""];s_player_lockunlock set[count s_player_lockunlock,_l29];s_player_lockUnlock_crtl=1;};};};}else{{player removeAction _x}forEach s_player_lockunlock;s_player_lockunlock=[];s_player_lockUnlock_crtl=-1;};if(DZE_AllowForceSave)then{if((_l16 or _l25)and!_l18)then{if(s_player_forceSave<0)then{s_player_forceSave=player addAction[format[localize"str_actions_save",_l14],"\z\germandayz\AI\dayz_code\actions\forcesave.sqf",_l57,1,true,true,"",""];};}else{player removeAction s_player_forceSave;s_player_forceSave=-1;};};If(DZE_AllowCargoCheck)then{if((_l16 or _l25 or _l58)and _l27 and!_l18 and!locked _l57)then{if(s_player_checkGear<0)then{s_player_checkGear=player addAction["Cargo Check","\z\germandayz\AI\dayz_code\actions\cargocheck.sqf",_l57,1,true,true,"",""];};}else{player removeAction s_player_checkGear;s_player_checkGear=-1;};};if(_l67)then{if(s_player_flipveh<0)then{s_player_flipveh=player addAction[format[localize"str_actions_flipveh",_l14],"\z\germandayz\AI\dayz_code\actions\player_flipvehicle.sqf",_l57,1,true,true,"",""];};}else{player removeAction s_player_flipveh;s_player_flipveh=-1;};if((_l6 or _l73)and _l26)then{if(s_player_fillfuel<0)then{s_player_fillfuel=player addAction[localize"str_actions_self_10","\z\germandayz\AI\dayz_code\actions\jerry_fill.sqf",[],1,false,true,"",""];};}else{player removeAction s_player_fillfuel;s_player_fillfuel=-1;};_l69=false;_l70=false;if(!_l27)then{if((_l21 or _l23)and _l8)then{_l15=_l57 getVariable["meatHarvested",false];if(!_l15)then{_l69=true;};};if(_l18 and!_l23 and!_l21)then{_l70=true;}};if(_l18 and!_l27 and!_l23 and!_l21)then{if(s_clothes<0)then{s_clothes=player addAction[("<t color='#FFFF00'>"+("Take Clothes")+"</t>"),"germandayz\clothes\clothesr.sqf",cursorTarget,1,false,true,"",""];};}else{player removeAction s_clothes;s_clothes=-1;};if((_l18 and!_l27 and!_l23 and!_l21)and"ItemTrashRazor"in _l75)then{if(s_clothesr<0)then{s_clothesr=player addAction[("<t color='#FFFF00'>"+("Cut Clothes")+"</t>"),"germandayz\clothes\clothes.sqf",cursorTarget,1,false,true,"",""];};}else{player removeAction s_clothesr;s_clothesr=-1;};if(_l69)then{if(s_player_butcher<0)then{if(_l23)then{s_player_butcher=player addAction["Gut Zombie","\z\germandayz\AI\dayz_code\actions\gather_zparts.sqf",_l57,0,true,true,"",""];}else{s_player_butcher=player addAction[localize"str_actions_self_04","\z\germandayz\AI\dayz_code\actions\gather_meat.sqf",_l57,3,true,true,"",""];};};}else{player removeAction s_player_butcher;s_player_butcher=-1;};if(_l70)then{if(s_player_studybody<0)then{s_player_studybody=player addAction[localize"str_action_studybody","\z\germandayz\AI\dayz_code\actions\study_body.sqf",_l57,0,false,true,"",""];};}else{player removeAction s_player_studybody;s_player_studybody=-1;};_l71=false;_l72=false;if(inflamed _l57)then{if(_l7)then{_l71=true;};if(_l50 and _l34)then{_l72=true;};};if(_l71)then{if(s_player_cook<0)then{s_player_cook=player addAction[localize"str_actions_self_05","\z\germandayz\AI\dayz_code\actions\cook.sqf",_l57,3,true,true,"",""];};}else{player removeAction s_player_cook;s_player_cook=-1;};if(_l72)then{if(s_player_boil<0)then{s_player_boil=player addAction[localize"str_actions_boilwater","\z\germandayz\AI\dayz_code\actions\boil.sqf",_l57,3,true,true,"",""];};}else{player removeAction s_player_boil;s_player_boil=-1;};if(_l57==dayz_hasFire)then{if((s_player_fireout<0)and!(inflamed _l57)and(player distance _l57<3))then{s_player_fireout=player addAction[localize"str_actions_self_06","\z\germandayz\AI\dayz_code\actions\fire_pack.sqf",_l57,0,false,true,"",""];};}else{player removeAction s_player_fireout;s_player_fireout=-1;};if(_l25 and _l20==dayz_characterID)then{if((s_player_packtent<0)and(player distance _l57<3))then{s_player_packtent=player addAction[localize"str_actions_self_07","\z\germandayz\AI\dayz_code\actions\tent_pack.sqf",_l57,0,false,true,"",""];};}else{player removeAction s_player_packtent;s_player_packtent=-1;};if((_l61 in DZE_LockableStorage)and _l20!="0"and(player distance _l57<3))then{if(s_player_unlockvault<0)then{if(_l61 in DZE_LockedStorage)then{if(_l20==dayz_combination or _l20==dayz_playerUID)then{_l64=player addAction[format["Open %1",_l14],"\z\germandayz\AI\dayz_code\actions\vault_unlock.sqf",_l57,0,false,true,"",""];}else{_l64=player addAction[format["Unlock %1",_l14],"\z\germandayz\AI\dayz_code\actions\vault_combination_1.sqf",_l57,0,false,true,"",""];};s_player_combi set[count s_player_combi,_l64];s_player_unlockvault=1;}else{if(_l20!=dayz_combination and _l20!=dayz_playerUID)then{_l64=player addAction["Re-Enter Combination","\z\germandayz\AI\dayz_code\actions\vault_combination_1.sqf",_l57,0,false,true,"",""];s_player_combi set[count s_player_combi,_l64];s_player_unlockvault=1;};};};}else{{player removeAction _x}forEach s_player_combi;s_player_combi=[];s_player_unlockvault=-1;};if(_l61 in DZE_UnLockedStorage and _l20!="0"and(player distance _l57<3))then{if(s_player_lockvault<0)then{if(_l20==dayz_combination or _l20==dayz_playerUID)then{s_player_lockvault=player addAction[format["Lock %1",_l14],"\z\germandayz\AI\dayz_code\actions\vault_lock.sqf",_l57,0,false,true,"",""];};};if(s_player_packvault<0 and(_l20==dayz_combination or _l20==dayz_playerUID))then{s_player_packvault=player addAction[format["<t color='#ff0000'>Pack %1</t>",_l14],"\z\germandayz\AI\dayz_code\actions\vault_pack.sqf",_l57,0,false,true,"",""];};}else{player removeAction s_player_packvault;s_player_packvault=-1;player removeAction s_player_lockvault;s_player_lockvault=-1;};if(_l61=="Info_Board_EP1")then{if(s_player_information<0)then{s_player_information=player addAction["Recent Murders","\z\germandayz\AI\dayz_code\actions\list_playerDeaths.sqf",[],0,false,true,"",""];};}else{player removeAction s_player_information;s_player_information=-1;};if(_l61 in dayz_fuelpumparray)then{if(s_player_fuelauto<0)then{_l54=nearestObjects[player,["Generator_DZ"],30];_l55=[];{if(alive _x and(_x getVariable["GeneratorRunning",false]))then{_l55 set[(count _l55),_x];};}foreach _l54;_l56=count(_l55);if(_l56>0)then{s_player_fuelauto=player addAction["Fill Vehicle","\z\germandayz\AI\dayz_code\actions\fill_nearestVehicle.sqf",objNull,0,false,true,"",""];}else{s_player_fuelauto=player addAction["<t color='#ff0000'>Needs Power</t>","",[],0,false,true,"",""];};};}else{player removeAction s_player_fuelauto;s_player_fuelauto=-1;};if(_l61 in DZE_fueltruckarray and alive _l57)then{if(s_player_fuelauto2<0)then{if(isEngineOn _l57)then{s_player_fuelauto2=player addAction["Fill Vehicle","\z\germandayz\AI\dayz_code\actions\fill_nearestVehicle.sqf",_l57,0,false,true,"",""];}else{s_player_fuelauto2=player addAction["<t color='#ff0000'>Needs Power</t>","",[],0,false,true,"",""];};};}else{player removeAction s_player_fuelauto2;s_player_fuelauto2=-1;};if((_l57 isKindOf"ModularItems")or(_l57 isKindOf"Land_DZE_WoodDoor_Base")or(_l57 isKindOf"CinderWallDoor_DZ_Base"))then{if((s_player_lastTarget select 0)!=_l57)then{if(s_player_upgrade_build>0)then{player removeAction s_player_upgrade_build;s_player_upgrade_build=-1;};};if(s_player_upgrade_build<0)then{s_player_lastTarget set[0,_l57];s_player_upgrade_build=player addAction[format["Upgrade %1",_l14],"germandayz\clientfiles\player_upgrade.sqf",_l57,-1,false,true,"",""];};}else{player removeAction s_player_upgrade_build;s_player_upgrade_build=-1;};if((_l24 or _l57 isKindOf"Land_DZE_WoodDoorLocked_Base"or _l57 isKindOf"CinderWallDoorLocked_DZ_Base")and(DZE_Lock_Door==_l20))then{if((s_player_lastTarget select 1)!=_l57)then{if(s_player_downgrade_build>0)then{player removeAction s_player_downgrade_build;s_player_downgrade_build=-1;};};if(s_player_downgrade_build<0)then{s_player_lastTarget set[1,_l57];s_player_downgrade_build=player addAction[format["Remove Lock from %1",_l14],"germandayz\clientfiles\player_buildingDowngrade.sqf",_l57,-2,false,true,"",""];};}else{player removeAction s_player_downgrade_build;s_player_downgrade_build=-1;};if((_l57 isKindOf"ModularItems"or _l57 isKindOf"DZE_Housebase")and(damage _l57>=0.1))then{if((s_player_lastTarget select 2)!=_l57)then{if(s_player_maint_build>0)then{player removeAction s_player_maint_build;s_player_maint_build=-1;};};if(s_player_maint_build<0)then{s_player_lastTarget set[2,_l57];s_player_maint_build=player addAction[format["Maintain %1",_l14],"\z\germandayz\AI\dayz_code\actions\player_buildingMaint.sqf",_l57,-2,false,true,"",""];};}else{player removeAction s_player_maint_build;s_player_maint_build=-1;};if(_l57 isKindOf"Generator_DZ")then{if(s_player_fillgen<0)then{if((_l57 getVariable["GeneratorRunning",false]))then{s_player_fillgen=player addAction["Stop Generator","\z\germandayz\AI\dayz_code\actions\stopGenerator.sqf",_l57,0,false,true,"",""];}else{if((_l57 getVariable["GeneratorFilled",false]))then{s_player_fillgen=player addAction["Start Generator","\z\germandayz\AI\dayz_code\actions\fill_startGenerator.sqf",_l57,0,false,true,"",""];}else{if("ItemJerrycan"in _l2)then{s_player_fillgen=player addAction["Fill and Start Generator","\z\germandayz\AI\dayz_code\actions\fill_startGenerator.sqf",_l57,0,false,true,"",""];};};};};}else{player removeAction s_player_fillgen;s_player_fillgen=-1;};if(_l25 and _l20==dayz_characterID)then{if((s_player_sleep<0)and(player distance _l57<3))then{s_player_sleep=player addAction[localize"str_actions_self_sleep","\z\germandayz\AI\dayz_code\actions\player_sleep.sqf",_l57,0,false,true,"",""];};}else{player removeAction s_player_sleep;s_player_sleep=-1;};if((dayz_myCursorTarget!=_l57)and _l16 and!_l18 and _l9 and(damage _l57<1)and!_l45 and!locked _l57)then{if(s_player_repair_crtl<0)then{dayz_myCursorTarget=_l57;_l36=dayz_myCursorTarget addAction["Repair Vehicle","\z\germandayz\AI\dayz_code\actions\repair_vehicle.sqf",_l57,0,true,false,"",""];_l37=dayz_myCursorTarget addAction["Salvage Vehicle","\z\germandayz\AI\dayz_code\actions\salvage_vehicle.sqf",_l57,0,true,false,"",""];s_player_repairActions set[count s_player_repairActions,_l36];s_player_repairActions set[count s_player_repairActions,_l37];s_player_repair_crtl=1;}else{{dayz_myCursorTarget removeAction _x}forEach s_player_repairActions;s_player_repairActions=[];s_player_repair_crtl=-1;};};if(_l18 and!_l3 and _l19 in serverTraders)then{if(s_player_parts_crtl<0)then{_l47=player getVariable["humanity",0];_l42=call compile format["menu_%1;",_l19];_l39="low";_l38=false;if((_l42 select 2)=="friendly")then{_l38=(_l47<-5000);};if((_l42 select 2)=="hostile")then{_l39="high";_l38=(_l47>-5000);};if((_l42 select 2)=="hero")then{_l38=(_l47<5000);};if(_l38)then{_l40=player addAction[format["Your humanity is too %1 this trader refuses to talk to you.",_l39],"\z\germandayz\AI\dayz_code\actions\trade_cancel.sqf",["na"],0,true,false,"",""];s_player_parts set[count s_player_parts,_l40];}else{{_l30=player addAction[format["Trade %1 %2 for %3 %4",(_x select 3),(_x select 5),(_x select 2),(_x select 6)],"\z\germandayz\AI\dayz_code\actions\trade_items_wo_db.sqf",[(_x select 0),(_x select 1),(_x select 2),(_x select 3),(_x select 4),(_x select 5),(_x select 6)],(_x select 7),true,true,"",""];s_player_parts set[count s_player_parts,_l30];}forEach(_l42 select 1);_l30=player addAction["Trader Menu","\z\germandayz\AI\dayz_code\actions\show_dialog.sqf",(_l42 select 0),99,true,false,"",""];s_player_parts set[count s_player_parts,_l30];_l41=player addAction["Trade Metals","\z\germandayz\AI\dayz_code\actions\trade_metals.sqf",["na"],0,true,false,"",""];s_player_parts set[count s_player_parts,_l41];};s_player_parts_crtl=1;};}else{{player removeAction _x}forEach s_player_parts;s_player_parts=[];s_player_parts_crtl=-1;};_l77=cursorTarget getVariable["NORRN_unconscious",false];if(_l18 and _l27 and!_l23 and _l13 and!_l77)then{if(s_player_knockout<0)then{s_player_knockout=player addAction[("<t color='#FFFF00'>"+("Knockout!")+"</t>"),"germandayz\knockout\knockout.sqf",cursorTarget,0,false,true,"",""];};}else{player removeAction s_player_knockout;s_player_knockout=-1;};if(dayz_tameDogs)then{if(_l22 and _l27 and(_l7)and _l20=="0"and player getVariable["dogID",0]==0)then{if(s_player_tamedog<0)then{s_player_tamedog=player addAction[localize"str_actions_tamedog","\z\germandayz\AI\dayz_code\actions\tame_dog.sqf",_l57,1,false,true,"",""];};}else{player removeAction s_player_tamedog;s_player_tamedog=-1;};if(_l22 and _l20==dayz_characterID and _l27)then{_l31=player getVariable["dogID",0];if(s_player_feeddog<0 and _l7)then{s_player_feeddog=player addAction[localize"str_actions_feeddog","\z\germandayz\AI\dayz_code\actions\dog\feed.sqf",[_l31,0],0,false,true,"",""];};if(s_player_waterdog<0 and"ItemWaterbottle"in _l2)then{s_player_waterdog=player addAction[localize"str_actions_waterdog","\z\germandayz\AI\dayz_code\actions\dog\feed.sqf",[_l31,1],0,false,true,"",""];};if(s_player_staydog<0)then{_l32=_l31 getFSMVariable"_l78";if(_l32)then{_l14="str_actions_liedog";}else{_l14="str_actions_sitdog";};s_player_staydog=player addAction[localize _l14,"\z\germandayz\AI\dayz_code\actions\dog\stay.sqf",_l31,5,false,true,"",""];};if(s_player_trackdog<0)then{s_player_trackdog=player addAction[localize"str_actions_trackdog","\z\germandayz\AI\dayz_code\actions\dog\track.sqf",_l31,4,false,true,"",""];};if(s_player_barkdog<0)then{s_player_barkdog=player addAction[localize"str_actions_barkdog","\z\germandayz\AI\dayz_code\actions\dog\speak.sqf",_l57,3,false,true,"",""];};if(s_player_warndog<0)then{_l33=_l31 getFSMVariable"_l79";if(_l33)then{_l14="Quiet";_l33=false;}else{_l14="Alert";_l33=true;};s_player_warndog=player addAction[format[localize"str_actions_warndog",_l14],"\z\germandayz\AI\dayz_code\actions\dog\warn.sqf",[_l31,_l33],2,false,true,"",""];};if(s_player_followdog<0)then{s_player_followdog=player addAction[localize"str_actions_followdog","\z\germandayz\AI\dayz_code\actions\dog\follow.sqf",[_l31,true],6,false,true,"",""];};}else{player removeAction s_player_feeddog;s_player_feeddog=-1;player removeAction s_player_waterdog;s_player_waterdog=-1;player removeAction s_player_staydog;s_player_staydog=-1;player removeAction s_player_trackdog;s_player_trackdog=-1;player removeAction s_player_barkdog;s_player_barkdog=-1;player removeAction s_player_warndog;s_player_warndog=-1;player removeAction s_player_followdog;s_player_followdog=-1;};};}else{{dayz_myCursorTarget removeAction _x}forEach s_player_repairActions;s_player_repairActions=[];s_player_repair_crtl=-1;{player removeAction _x}forEach s_player_combi;s_player_combi=[];dayz_myCursorTarget=objNull;s_player_lastTarget=[objNull,objNull,objNull,objNull,objNull];{player removeAction _x}forEach s_player_parts;s_player_parts=[];s_player_parts_crtl=-1;{player removeAction _x}forEach s_player_lockunlock;s_player_lockunlock=[];s_player_lockUnlock_crtl=-1;player removeAction s_player_checkGear;s_player_checkGear=-1;player removeAction s_player_forceSave;s_player_forceSave=-1;player removeAction s_player_flipveh;s_player_flipveh=-1;player removeAction s_player_sleep;s_player_sleep=-1;player removeAction s_player_deleteBuild;s_player_deleteBuild=-1;player removeAction s_player_butcher;s_player_butcher=-1;player removeAction s_player_cook;s_player_cook=-1;player removeAction s_player_boil;s_player_boil=-1;player removeAction s_player_fireout;s_player_fireout=-1;player removeAction s_player_packtent;s_player_packtent=-1;player removeAction s_player_fillfuel;s_player_fillfuel=-1;player removeAction s_player_studybody;s_player_studybody=-1;player removeAction s_player_knockout;s_player_knockout=-1;player removeAction s_clothes;s_clothes=-1;player removeAction s_clothesr;s_clothesr=-1;player removeAction s_player_tamedog;s_player_tamedog=-1;player removeAction s_player_feeddog;s_player_feeddog=-1;player removeAction s_player_waterdog;s_player_waterdog=-1;player removeAction s_player_staydog;s_player_staydog=-1;player removeAction s_player_trackdog;s_player_trackdog=-1;player removeAction s_player_barkdog;s_player_barkdog=-1;player removeAction s_player_warndog;s_player_warndog=-1;player removeAction s_player_followdog;s_player_followdog=-1;player removeAction s_player_unlockvault;s_player_unlockvault=-1;player removeAction s_player_packvault;s_player_packvault=-1;player removeAction s_player_lockvault;s_player_lockvault=-1;player removeAction s_player_information;s_player_information=-1;player removeAction s_player_fillgen;s_player_fillgen=-1;player removeAction s_player_upgrade_build;s_player_upgrade_build=-1;player removeAction s_player_maint_build;s_player_maint_build=-1;player removeAction s_player_downgrade_build;s_player_downgrade_build=-1;player removeAction s_player_towing;s_player_towing=-1;player removeAction s_player_fuelauto;s_player_fuelauto=-1;player removeAction s_player_fuelauto2;s_player_fuelauto2=-1;};_l31=player getVariable["dogID",0];if(_l31>0)then{_l49=_l31 getFSMVariable"_l49";_l20="0";if(!isNull cursorTarget)then{_l20=cursorTarget getVariable["CharacterID","0"];};if(_l13 and!_l5 and alive _l49 and _l20!=dayz_characterID)then{if(s_player_movedog<0)then{s_player_movedog=player addAction[localize"str_actions_movedog","\z\germandayz\AI\dayz_code\actions\dog\move.sqf",player getVariable["dogID",0],1,false,true,"",""];};if(s_player_speeddog<0)then{_l14="Walk";_l48=0;if(_l49 getVariable["currentSpeed",1]==0)then{_l48=1;_l14="Run";};s_player_speeddog=player addAction[format[localize"str_actions_speeddog",_l14],"\z\germandayz\AI\dayz_code\actions\dog\speed.sqf",[player getVariable["dogID",0],_l48],0,false,true,"",""];};if(s_player_calldog<0)then{s_player_calldog=player addAction[localize"str_actions_calldog","\z\germandayz\AI\dayz_code\actions\dog\follow.sqf",[player getVariable["dogID",0],true],2,false,true,"",""];};};}else{player removeAction s_player_movedog;s_player_movedog=-1;player removeAction s_player_speeddog;s_player_speeddog=-1;player removeAction s_player_calldog;s_player_calldog=-1;};