if(R3F_LOG_mutex_local_verrou)then{player globalChat STR_R3F_LOG_mutex_action_en_cours;}else{R3F_LOG_mutex_local_verrou=true;R3F_LOG_objet_selectionne=objNull;private["_l0","_l1","_l2","_l3","_l4"];_l0=_this select 0;_l1=_l0 getVariable"R3F_ARTY_est_calculateur";if!(isNil"_l1")then{R3F_LOG_mutex_local_verrou=false;[_l0]execVM"germandayz\R3F\R3F_ARTY\poste_commandement\deplacer_calculateur.sqf";}else{_l0 setVariable["R3F_LOG_beingmoved",player,true];R3F_LOG_joueur_deplace_objet=_l0;_l2=primaryWeapon player;if(_l2!="")then{player playMove"AidlPercMstpSnonWnonDnon04";sleep 2;player removeWeapon _l2;}else{sleep 0.5;};if(!alive player)then{R3F_LOG_joueur_deplace_objet=objNull;_l0 setVariable["R3F_LOG_beingmoved",objNull,true];_l0 setPos[getPos _l0 select 0,getPos _l0 select 1,0];_l0 setVelocity[0,0,0];R3F_LOG_mutex_local_verrou=false;}else{_l0 attachTo[player,[0,(((boundingBox _l0 select 1 select 1)max(-(boundingBox _l0 select 0 select 1)))max((boundingBox _l0 select 1 select 0)max(-(boundingBox _l0 select 0 select 0))))+1,1]];if(count(weapons _l0)>0)then{_l4=((_l0 weaponDirection(weapons _l0 select 0))select 0)atan2((_l0 weaponDirection(weapons _l0 select 0))select 1);R3F_ARTY_AND_LOG_PUBVAR_setDir=[_l0,(getDir _l0)-_l4];if(isServer)then{["R3F_ARTY_AND_LOG_PUBVAR_setDir",R3F_ARTY_AND_LOG_PUBVAR_setDir]spawn R3F_ARTY_AND_LOG_FNCT_PUBVAR_setDir;}else{publicVariable"R3F_ARTY_AND_LOG_PUBVAR_setDir";};};R3F_LOG_mutex_local_verrou=false;_l3=player addAction[("<t color=""#dddd00"">"+Tow_settings_action_relacher_objet+"</t>"),"germandayz\R3F\R3F_LOG\objet_deplacable\relacher.sqf",nil,5,true,true];while{!isNull R3F_LOG_joueur_deplace_objet && alive player}do{if(vehicle player!=player)then{player globalChat STR_R3F_LOG_ne_pas_monter_dans_vehicule;player action["eject",vehicle player];sleep 1;};if([0,0,0]distance(velocity player)>2.8)then{player globalChat STR_R3F_LOG_courir_trop_vite;player playMove"AmovPpneMstpSnonWnonDnon";sleep 1;};sleep 0.25;};detach _l0;_l0 setPos[getPos _l0 select 0,getPos _l0 select 1,0];_l0 setVelocity[0,0,0];player removeAction _l3;R3F_LOG_joueur_deplace_objet=objNull;_l0 setVariable["R3F_LOG_beingmoved",objNull,true];if(alive player && _l2!="")then{player addWeapon _l2;player selectWeapon _l2;player selectWeapon(getArray(configFile>>"cfgWeapons">>_l2>>"muzzles")select 0);};};};};