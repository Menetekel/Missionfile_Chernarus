if(R3F_LOG_mutex_local_verrou)then{player globalChat STR_R3F_LOG_mutex_action_en_cours;}else{R3F_LOG_mutex_local_verrou=true;private["_l0","_l1"];_l0=R3F_LOG_joueur_deplace_objet;_l1=nearestObjects[_l0,R3F_LOG_CFG_remorqueurs,6];_l1=_l1-[_l0];if(count _l1>0)then{_l1=_l1 select 0;if(alive _l1 && isNull(_l1 getVariable"R3F_LOG_remorque")&&([0,0,0]distance velocity _l1<6)&&(getPos _l1 select 2<2)&&!(_l1 getVariable"R3F_LOG_disabled"))then{_l1 setVariable["R3F_LOG_remorque",_l0,true];_l0 setVariable["R3F_LOG_beingtransported",_l1,true];player attachTo[_l1,[(boundingBox _l1 select 1 select 0),(boundingBox _l1 select 0 select 1)+1,(boundingBox _l1 select 0 select 2)-(boundingBox player select 0 select 2)]];player setDir 270;player setPos(getPos player);R3F_LOG_joueur_deplace_objet=objNull;player playMove"AinvPknlMstpSlayWrflDnon_medic";sleep 2;_l0 attachTo[_l1,[0,(boundingBox _l1 select 0 select 1)+(boundingBox _l0 select 0 select 1)+3,(boundingBox _l1 select 0 select 2)-(boundingBox _l0 select 0 select 2)]];detach player;if(_l0 isKindOf"StaticWeapon")then{private["_l2"];_l2=((_l0 weaponDirection(weapons _l0 select 0))select 0)atan2((_l0 weaponDirection(weapons _l0 select 0))select 1);if!(_l0 isKindOf"D30_Base")then{_l2=_l2+180;};R3F_ARTY_AND_LOG_PUBVAR_setDir=[_l0,(getDir _l0)-_l2];if(isServer)then{["R3F_ARTY_AND_LOG_PUBVAR_setDir",R3F_ARTY_AND_LOG_PUBVAR_setDir]spawn R3F_ARTY_AND_LOG_FNCT_PUBVAR_setDir;}else{publicVariable"R3F_ARTY_AND_LOG_PUBVAR_setDir";};};sleep 5;};};R3F_LOG_mutex_local_verrou=false;};