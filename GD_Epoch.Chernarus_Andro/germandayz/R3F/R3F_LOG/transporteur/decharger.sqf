if(R3F_LOG_mutex_local_verrou)then{player globalChat STR_R3F_LOG_mutex_action_en_cours;}else{R3F_LOG_mutex_local_verrou=true;
#include "dlg_constantes.h"
private["_l0","_l1","_l2","_l3","_l4"];_l0=uiNamespace getVariable"R3F_LOG_dlg_CV_transporteur";_l1=_l0 getVariable"R3F_LOG_objets_charges";_l2=lbData[R3F_LOG_IDC_dlg_CV_liste_contenu,lbCurSel R3F_LOG_IDC_dlg_CV_liste_contenu];closeDialog 0;_l3=objNull;for[{_l4=0},{_l4<count _l1},{_l4=_l4+1}]do{if(typeOf(_l1 select _l4)==_l2)exitWith{_l3=_l1 select _l4;};};if!(isNull _l3)then{_l1=_l1-[_l3];_l0 setVariable["R3F_LOG_objets_charges",_l1,true];detach _l3;if({_l3 isKindOf _x}count R3F_LOG_CFG_objets_deplacables>0)then{[_l3]execVM"germandayz\R3F\R3F_LOG\objet_deplacable\deplacer.sqf";}else{private["_l5"];_l5=(((boundingBox _l3 select 1 select 1)max(-(boundingBox _l3 select 0 select 1)))max((boundingBox _l3 select 1 select 0)max(-(boundingBox _l3 select 0 select 0))));player globalChat Tow_settings_action_decharger_en_cours;sleep 2;_l3 setPos[(getPos _l0 select 0)-((_l5+5+(random 10)-(boundingBox _l0 select 0 select 1))*sin(getDir _l0-90+random 180)),(getPos _l0 select 1)-((_l5+5+(random 10)-(boundingBox _l0 select 0 select 1))*cos(getDir _l0-90+random 180)),0];_l3 setVelocity[0,0,0];player globalChat Tow_settings_action_decharger_fait;};}else{player globalChat Tow_settings_action_decharger_deja_fait;};R3F_LOG_mutex_local_verrou=false;};