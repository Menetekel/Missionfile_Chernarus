
#include "R3F_WEIGHT_Configuration.cfg"
R3F_WEIGHT_FNCT_MakeSingleArray={private["_l0","_l1","_l2","_l3","_l4","_x"];_l0=(_this select 0)select 0;_l1=(_this select 0)select 1;_l2=[];_l3=0;{_l4=_l1 select _l3;for[{_l5=0},{_l5<_l4},{_l5=_l5+1}]do{_l2=_l2+[_x];};_l3=_l3+1;}foreach _l0;_l2;};R3F_WEIGHT_FNCT_GetItemWeight={private["_l6","_l7","_l8"];_l6=(_this select 0)+(_this select 1);_l7=0;_l8=0;CfgWeight=missionConfigFile>>"CfgWeight";{if(isclass(CfgWeight>>"Weapons">>_x))then{_l8=getNumber(CfgWeight>>"Weapons">>_x>>"weight");_l7=_l7+_l8;}else{if(isclass(CfgWeight>>"Magazines">>_x))then{_l8=getNumber(CfgWeight>>"Magazines">>_x>>"weight");_l7=_l7+_l8;}else{_l8=0;if(isNumber(configFile>>"cfgMagazines">>_x>>"weight"))then{_l8=getNumber(configFile>>"cfgMagazines">>_x>>"weight");};if(_l8>0)then{_l7=_l7+_l8;}else{};};};}foreach _l6;_l7;};R3F_WEIGHT_FNCT_GetWeight={private["_l9","_l10","_l11","_l12","_l13"];_l12=0;_l9=unitBackpack player;if(!isnull(_l9))then{_l10=[getWeaponCargo _l9]call R3F_WEIGHT_FNCT_MakeSingleArray;_l11=[getMagazineCargo _l9]call R3F_WEIGHT_FNCT_MakeSingleArray;_l12=[_l10,_l11]call R3F_WEIGHT_FNCT_GetItemWeight;};_l12=_l12+([(weapons player),(magazines player)]call R3F_WEIGHT_FNCT_GetItemWeight);_l13=localize"STR_R3F_WEIGHT_English"=="lb";if(_l13)then{_l12=_l12/0.45359;_l12=round(_l12*100)/100;};_l12;};